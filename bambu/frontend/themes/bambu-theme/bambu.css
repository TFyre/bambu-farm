@media screen and (min-width: 0px) and (max-width:1110px) {
    :root {
        --bambu-columns: calc(var(--bambu-default-columns,4) - 3);
    }
}
@media screen and (min-width: 1111px) and (max-width:1650px) {
    :root {
        --bambu-columns: calc(var(--bambu-default-columns,4) - 2);
    }
}
@media screen and (min-width: 1651px) and (max-width:2200px) {
    :root {
        --bambu-columns: calc(var(--bambu-default-columns,4) - 1);
    }
}
@media screen and (min-width: 2201px) and (max-width:2750px) {
    :root {
        --bambu-columns: var(--bambu-default-columns,4);
    }
}
@media screen and (min-width: 2751px){
    :root {
        --bambu-columns: calc(var(--bambu-default-columns,4) + 1);
    }
}

.header-content {
    display: flex;
    align-items: center;
    flex-grow: 1;
    justify-content: center;
    gap: var(--lumo-space-m);
}

.dashboard-view {
    display: flex;
    flex-wrap: wrap;
    gap: var(--lumo-space-m);
    padding: var(--lumo-space-s);
}

.dashboard-view > * {
    flex: 1 1 calc((100% / var(--bambu-columns)) - var(--lumo-space-m));
    max-width: calc((100% / var(--bambu-columns)) - var(--lumo-space-m));
    min-width: 0;
}

.dashboard-printer {
  display: flex;
  flex-direction: column;
}

.dashboard-printer .name {
    width: 100%;
    font-size: 2em;
    text-align: center;
    padding-bottom: 10px;
}

.dashboard-printer .name div {
    font-weight: bold;
    display: flex;
    width: 100%;
    justify-content: center;
}

.dashboard-printer .name vaadin-button {
    margin: 0.1rem;
}

.dashboard-printer .image {
    flex-direction: column;
    flex-grow: 1;
    display: flex;
    width: 100%;
    min-height: 371px;
    justify-content: center;
    align-items: center;
    background-color: var(--lumo-base-color);
    box-shadow: var(--lumo-box-shadow-s);
    border-radius: var(--lumo-border-radius-l);
}

.dashboard-printer .image img {
    min-width: 0;
    flex-grow: 1;
    height: 95%;
    width: 95%;
    max-height: 720px;
    max-width: 1280px;
    object-fit: contain;
    margin: 10px;
}

.dashboard-printer .image iframe {
    flex-grow: 1;
    width: 95%;
    max-height: 720px;
    max-width: 1280px;
    object-fit: contain;
    margin: 10px;
    border: 0px;
}

.dashboard-printer .imagestatus {
    display: flex;
    width: 90%;
    flex-direction: row;
    flex-wrap: nowrap;
    justify-content: space-evenly;
    margin-bottom: 10px;
}

.dashboard-printer .status {
    width: 100%;
    flex-wrap: wrap;
}

.dashboard-printer .badge {
    display: flex;
    flex-direction: column;

    font-weight: bolder;
    align-items: center;
    min-width: 50px;
    padding: var(--lumo-space-s);
    margin: var(--lumo-space-s);
    flex-grow: 1;
    flex-basis: 0;
    background-color: var(--lumo-base-color);
    box-shadow: var(--lumo-box-shadow-s);
    border-radius: var(--lumo-border-radius-l);
}

.dashboard-printer .filaments {
    width: 100%;
    flex: 2;
    display: flex;
    flex-direction: column;
}

.dashboard-printer .ams {
    /*width: 100%;*/
    flex: 1;
}

.dashboard-printer .amsheader {
    width: 100%;
    height: 30px;
    display: flex;
    flex-wrap: wrap;
}

.dashboard-printer .amsheader span {
    flex-grow: 1;
}

.dashboard-printer .amsheader span.filler {
    flex-grow: 10;
}

.dashboard-printer .amsheader img {
    flex-grow: 1;
    max-height: 30px;
}

.dashboard-printer .amstray {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
}

.dashboard-printer .amstray .filament {
    display: flex;
    flex-direction: column;
    font-weight: bolder;
    align-items: center;
    padding: var(--lumo-space-s);
    margin: var(--lumo-space-s);
    flex-grow: 1;
    background-color: var(--lumo-base-color);
    box-shadow: var(--lumo-box-shadow-s);
    border-radius: var(--lumo-border-radius-l);
}

.dashboard-printer .amstray .active {
    --lumo-utility-border-color: var(--lumo-success-color);
    border: 2px var(--lumo-utility-border-style, solid) var(--lumo-utility-border-color, var(--lumo-contrast-10pct));
}

.dashboard-printer .amstray .filament .color {
    width: 50px;
    min-height: 50px;
    border: 1px solid;
    box-shadow: var(--lumo-box-shadow-s);
    border-radius: var(--lumo-border-radius-l);
}

.dashboard-printer .progress {
    width: 100%;
    justify-content: space-between;
}

.dashboard-printer vaadin-progress-bar {
    height: 5px;
}

.printer-view {
    flex-wrap: wrap;
    gap: var(--lumo-space-m);
    padding: var(--lumo-space-s);
}

.printer-view .content {
    width: 100%;
}

.dashboard-printer .image .controlsbox {
    display: flex;
    width: 100%;
    justify-content: center;
    align-items: center;
    gap: var(--lumo-space-m);
}

.controlsbox iframe {
    height: 60vh;
}

.controlsbox .controls {
    margin-top: auto;
    margin-bottom: auto;
    margin-right: 10px;
}

.controlsbox .controlheader {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.controlsbox .controlbody {
    display: flex;
}

.controlxy {
    margin-top: auto;
    margin-bottom: auto;
}

.controlxy div.updown {
    display: flex;
    align-items: center;
    flex-direction: column;
}

.controlxy div.leftright {
    display: flex;
}

.controlxy vaadin-button,
.controlz vaadin-button,
.extruder vaadin-button {
    margin: 0.1rem;
}

.controlz {
    margin-top: auto;
    margin-bottom: auto;
    display: flex;
    align-items: center;
    flex-direction: column;
    width: 150px;
}

.extruder {
    display: flex;
    align-items: center;
    flex-direction: column;
}

.extruder .spacer {
    flex-grow: 1;
}

.filament-view .presets {
    display: grid;
    grid-template-columns: repeat(8, minmax(0, 1fr));
}

.filament-view .presets .preset {
    width: 30px;
    height: 30px;
    padding: var(--lumo-space-s);
    margin: var(--lumo-space-s);
    box-shadow: var(--lumo-box-shadow-s);
    border-radius: var(--lumo-border-radius-l);
}

.batchprint-view,
.sdcard-view {
    display: flex;
    flex-direction: column;
    gap: var(--lumo-space-m);
    padding: var(--lumo-space-m);
    align-items: flex-start;
    box-sizing: border-box;
    height: 100%;
}

.batchprint-view .filaments {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}

.batchprint-view-menu vaadin-context-menu-list-box::part(items) {
    display: flex;
}

.batchprint-view-menu vaadin-context-menu-item {
    padding: 0px;
}

.batchprint-view-menu vaadin-context-menu-item::part(checkmark) {
    display: none;
}

.batchprint-view .filaments .filament.contrast,
.batchprint-view .mapping .filament.contrast,
.batchprint-view-menu .filament.contrast {
    color: white;
}

.batchprint-view .filaments .filament,
.batchprint-view-menu .filament {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    padding: var(--lumo-space-s);
    margin: var(--lumo-space-s);
    box-shadow: var(--lumo-box-shadow-s);
    border-radius: var(--lumo-border-radius-l);
}

.batchprint-view .filament .filament,
.batchprint-view .mapping .filament,
.batchprint-view-menu .filament {
    color: black;
}

.batchprint-view .mapping .filament {
    display: flex;
    flex-direction: row;
    align-items: center;
    padding: var(--lumo-space-s);
    margin: var(--lumo-space-s);
    box-shadow: var(--lumo-box-shadow-s);
    border-radius: var(--lumo-border-radius-l);
}

.batchprint-view .mapping .filamenttop,
.batchprint-view-menu .filamenttop {
    justify-content: center;
    padding-bottom: 0px;
    margin-bottom: 0px;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}

.batchprint-view .mapping .filamentbottom,
.batchprint-view-menu .filamentbottom {
    justify-content: center;
    padding-top: 0px;
    margin-top: 0px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
}

.batchprint-view .mapping {
    display: flex;
    flex-direction: column;
}

.batchprint-view vaadin-grid-sorter {
    width: 100%;
}

.batchprint-view .header {
    width: 100%;
    display: flex;
    align-items: center;
    gap: var(--lumo-space-l);
}

.batchprint-view .header .actions {
    display: flex;
    flex-direction: column;
}

.batchprint-view .actions .detail,
.batchprint-view .actions .options,
.batchprint-view .actions .delay-controls,
.batchprint-view .actions .buttons {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    gap: var(--lumo-space-l);
}

.batchprint-view .buttons vaadin-button {
    flex-grow: 1;
    flex-basis: 0;
}

.batchprint-view .header img {
    background-color: var(--lumo-base-color);
    box-shadow: var(--lumo-box-shadow-s);
    border-radius: var(--lumo-border-radius-l);
}

.batchprint-view .header img.small {
    max-height: 256px;
    max-height: 256px;
}

.batchprint-view .filamentmapping {
    display: flex;
    flex-direction: row;
    align-content: center;
    justify-content: center;
    flex-wrap: wrap;
}

/* ========================================
   DELAY COMPONENT STYLING
   ======================================== */

/* Options section - contains checkboxes only */
.batchprint-view .options {
    display: grid;
    grid-template-columns: repeat(3, auto);
    gap: var(--lumo-space-m);
    align-items: center;
}

/* First 6 items are checkboxes - let them flow naturally */
.batchprint-view .options > vaadin-checkbox:nth-child(-n+6) {
    justify-self: start;
}

/* Enable delay checkbox spans all columns and adds top margin */
.batchprint-view .options > vaadin-checkbox:nth-child(7) {
    grid-column: 1 / -1;
    /*margin-top: var(--lumo-space-m);
    padding-top: var(--lumo-space-m);
    border-top: 1px solid var(--lumo-contrast-10pct);*/
}

/* Simultaneous controls - one row */
.batchprint-view .options > span:nth-child(8),
.batchprint-view .options > vaadin-integer-field:nth-child(9),
.batchprint-view .options > vaadin-button:nth-child(10) {
    /* "Simultaneous:" label, field, apply button */
    align-self: end;
}

.batchprint-view .options > span:nth-child(8) {
    font-size: var(--lumo-font-size-s);
    color: var(--lumo-secondary-text-color);
    white-space: nowrap;
    /*padding-bottom: var(--lumo-space-xs);*/
}

/* Delay time controls - another row */
.batchprint-view .options > span:nth-child(11) {
    /* "Delay:" label */
    font-size: var(--lumo-font-size-s);
    color: var(--lumo-secondary-text-color);
    white-space: nowrap;
    align-self: end;
    /*padding-bottom: var(--lumo-space-xs);*/
}

/* Time fields group - HH:MM:SS */
.batchprint-view .options > vaadin-integer-field:nth-child(12),
.batchprint-view .options > span:nth-child(13),
.batchprint-view .options > vaadin-integer-field:nth-child(14),
.batchprint-view .options > span:nth-child(15),
.batchprint-view .options > vaadin-integer-field:nth-child(16) {
    align-self: end;
}

/* Colon separators */
.batchprint-view .options > span:nth-child(13),
.batchprint-view .options > span:nth-child(15) {
    font-size: var(--lumo-font-size-l);
    font-weight: bold;
    color: var(--lumo-secondary-text-color);
    padding: 0 2px;
    align-self: center;
}

/* Delay apply button */
.batchprint-view .options > vaadin-button:nth-child(17) {
    align-self: end;
}

/* Info spans span all columns */
.batchprint-view .options > span:nth-child(18),
.batchprint-view .options > span:nth-child(19),
.batchprint-view .options > span:nth-child(20) {
    grid-column: 1 / -1;
}

/* Active jobs span styling */
.batchprint-view .active-jobs {
    padding: var(--lumo-space-xs);
    border-left: 3px solid var(--lumo-error-color);
    margin-top: var(--lumo-space-xs);
}

/* Delay fields styling */
.batchprint-view .delay-field {
    min-width: 80px;
}

/* Time part fields - compact styling */
.batchprint-view .delay-time-part {
    min-width: 60px;
    max-width: 60px;
}

/* Input field text - centered and monospace */
.batchprint-view .delay-time-part input {
    text-align: center;
    font-family: 'Courier New', Courier, monospace;
    font-size: var(--lumo-font-size-m);
    font-weight: bold;
}

/* Delay apply buttons - small and animated */
.batchprint-view .delay-apply-button {
    min-width: 40px !important;
    padding: 0 8px !important;
    transition: all 0.2s ease;
}

/* Button active state (click animation) */
.batchprint-view .delay-apply-button:active {
    transform: scale(1.1);
    box-shadow: 0 0 10px var(--lumo-primary-color);
    transition: all 0.1s ease;
}

/* Button hover effect */
.batchprint-view .delay-apply-button:hover:not(:disabled) {
    box-shadow: 0 0 5px var(--lumo-primary-color-50pct);
}

/* Batch info span styling */
.batchprint-view .batch-info {
    font-size: var(--lumo-font-size-s);
    color: var(--lumo-primary-text-color);
    font-weight: 500;
    display: block;
    margin-top: var(--lumo-space-xs);
}

/* Time estimate span styling */
.batchprint-view .time-estimate {
    font-size: var(--lumo-font-size-s);
    color: var(--lumo-secondary-text-color);
    font-style: italic;
    display: block;
}

 Button spacing and layout 
.batchprint-view .buttons {
    display: flex;
    gap: var(--lumo-space-s);
    flex-wrap: wrap;
    align-items: center;
}
/* Group buttons visually */
.batchprint-view .buttons vaadin-button:nth-child(1),
.batchprint-view .buttons vaadin-button:nth-child(2),
.batchprint-view .buttons vaadin-button:nth-child(3) {
    /* Print, Add to Queue, Remove from Queue */
    margin-right: var(--lumo-space-m);
}

/* Separator before cancel buttons */
.batchprint-view .buttons vaadin-button:nth-child(5) {
    margin-left: var(--lumo-space-m);
}

.batchprint-view .buttons vaadin-button[theme~="error"] {
    background-color: var(--lumo-error-color);
}

/* ========================================
   DELAY CONTROLS SECTION (between options and buttons)
   ======================================== */

.batchprint-view .delay-controls {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--lumo-space-s);
    margin-top: var(--lumo-space-s);
}

/* Enable delay checkbox */
.batchprint-view .delay-controls > vaadin-checkbox {
    margin-right: var(--lumo-space-m);
}

/* Labels */
.batchprint-view .delay-controls > span:nth-child(2),
.batchprint-view .delay-controls > span:nth-child(6) {
    font-size: var(--lumo-font-size-s);
    color: var(--lumo-secondary-text-color);
    white-space: nowrap;
    margin-right: var(--lumo-space-xs);
}

/* Colon separators */
.batchprint-view .delay-controls > span:nth-child(8),
.batchprint-view .delay-controls > span:nth-child(10) {
    font-size: var(--lumo-font-size-l);
    font-weight: bold;
    color: var(--lumo-secondary-text-color);
    padding: 0 2px;
}

/* Info spans - full width */
.batchprint-view .delay-controls > span.batch-info,
.batchprint-view .delay-controls > span.time-estimate,
.batchprint-view .delay-controls > span.active-jobs {
    flex-basis: 100%;
}

/* Active jobs span */
.batchprint-view .active-jobs {
    padding: var(--lumo-space-xs);
    border-left: 3px solid var(--lumo-error-color);
    margin-top: var(--lumo-space-xs);
}

//* ========================================
   BATCH UPLOAD VIEW STYLES
   Matches BatchPrint page styling
   ======================================== */

.batchupload-view {
    display: flex;
    flex-direction: column;
    gap: var(--lumo-space-m);
    padding: var(--lumo-space-m);
    align-items: flex-start;
    box-sizing: border-box;
    height: 100%;
}

/* Smooth progress bar transitions */
.batchupload-view .smooth-progress vaadin-progress-bar::part(bar) {
    transition: width 0.3s ease-in-out;
}

.batchupload-view .smooth-progress {
    transition: all 0.3s ease-in-out;
}

.batchupload-view vaadin-progress-bar {
    --lumo-primary-color: var(--lumo-primary-color);
}

.batchupload-view vaadin-progress-bar::part(bar) {
    transition: transform 0.3s ease-in-out, width 0.3s ease-in-out;
}

.batchupload-view .header {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: var(--lumo-space-m);
}

.batchupload-view .actions {
    display: flex;
    flex-direction: column;
    gap: var(--lumo-space-s);
}

.batchupload-view .actions .buttons {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    gap: var(--lumo-space-m);
    flex-wrap: wrap;
}

.batchupload-view .buttons vaadin-button {
    flex-grow: 0;
}

/* Upload info section - shows batch upload progress */
.batchupload-view .upload-info-section {
    padding: var(--lumo-space-s) var(--lumo-space-m);
    background-color: var(--lumo-primary-color-10pct);
    border-left: 4px solid var(--lumo-primary-color);
    border-radius: var(--lumo-border-radius-s);
    margin-bottom: var(--lumo-space-s);
}

.batchupload-view .upload-batch-info {
    font-size: var(--lumo-font-size-m);
    font-weight: 600;
    color: var(--lumo-primary-text-color);
    display: block;
    margin-bottom: var(--lumo-space-xs);
}

.batchupload-view .upload-time-estimate {
    font-size: var(--lumo-font-size-s);
    color: var(--lumo-secondary-text-color);
    display: block;
}

.batchupload-view .file-section,
.batchupload-view .printer-section,
.batchupload-view .control-section {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: var(--lumo-space-s);
}

.batchupload-view .file-section > span:first-child,
.batchupload-view .printer-section > span:first-child {
    font-size: var(--lumo-font-size-l);
    font-weight: 600;
    margin-bottom: var(--lumo-space-xs);
}

.batchupload-view .upload {
    width: 100%;
}

.batchupload-view vaadin-grid {
    box-shadow: var(--lumo-box-shadow-s);
    border-radius: var(--lumo-border-radius-m);
}

.batchupload-view vaadin-grid-sorter {
    width: 100%;
}

/* Progress panel */
.batchupload-view .progress-panel {
    width: 100%;
    padding: var(--lumo-space-m);
    background-color: var(--lumo-contrast-5pct);
    border-radius: var(--lumo-border-radius-m);
    margin-top: var(--lumo-space-m);
}

.batchupload-view .progress-item {
    padding: var(--lumo-space-s);
    margin: var(--lumo-space-xs) 0;
    border-radius: var(--lumo-border-radius-s);
    background-color: var(--lumo-contrast-5pct);
    border-left: 4px solid var(--lumo-primary-color);
}

.batchupload-view .progress-item.success {
    background-color: var(--lumo-success-color-10pct);
    border-left-color: var(--lumo-success-color);
}

.batchupload-view .progress-item.error {
    background-color: var(--lumo-error-color-10pct);
    border-left-color: var(--lumo-error-color);
}

/* Control section */
.batchupload-view .control-section {
    margin-top: var(--lumo-space-m);
}

.batchupload-view .control-section .buttons {
    display: flex;
    justify-content: center;
    gap: var(--lumo-space-m);
}

.batchupload-view .control-section .buttons vaadin-button {
    min-width: 200px;
}

/* Summary panel */
.batchupload-view .summary-panel {
    padding: var(--lumo-space-m);
    margin: var(--lumo-space-m) 0;
    background-color: var(--lumo-contrast-5pct);
    border-radius: var(--lumo-border-radius-m);
    text-align: center;
}

/* Match BatchPrint grid styling */
.batchupload-view vaadin-grid {
    --lumo-font-size-s: 0.875rem;
}

.batchupload-view vaadin-grid::part(cell) {
    padding: var(--lumo-space-xs) var(--lumo-space-s);
}

/* Instructions box */
.batchupload-view .instructions {
    width: 100%;
    background-color: var(--lumo-contrast-5pct);
    padding: var(--lumo-space-m);
    border-radius: var(--lumo-border-radius-m);
    margin-bottom: var(--lumo-space-m);
}

.batchupload-view .instructions > span:first-child {
    font-weight: bold;
    display: block;
    margin-bottom: var(--lumo-space-s);
}

/* Button groups */
.batchupload-view .file-section .buttons,
.batchupload-view .printer-section .buttons {
    display: flex;
    gap: var(--lumo-space-s);
    margin-bottom: var(--lumo-space-s);
}

/* Responsive layout */
@media screen and (max-width: 1110px) {
    .batchupload-view .actions .buttons {
        flex-direction: column;
    }
    
    .batchupload-view .buttons vaadin-button {
        width: 100%;
    }
}
